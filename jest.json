{
  "overrides": [
    {
      "files": ["**/__tests__/**", "*.test.*", "*.spec.*"],

      "extends": [
        "plugin:jest/all",
        "plugin:jest-dom/all",
        "plugin:jest-formatting/strict"
      ],

      "env": {
        "jest": true
      },

      "rules": {
        "jest/valid-expect": ["error", { "alwaysAwait": true }],
        "jest/no-restricted-matchers": [
          "error",
          {
            "toMatchSnapshot": "Use more targeted assertions instead of a snapshot. See https://docs.gitlab.com/ee/development/testing_guide/frontend_testing.html#snapshots",
            "toMatchInlineSnapshot": "Use more targeted assertions instead of a snapshot. See https://docs.gitlab.com/ee/development/testing_guide/frontend_testing.html#snapshots",
            "toThrowErrorMatchingSnapshot": "Use more targeted assertions instead of a snapshot. See https://docs.gitlab.com/ee/development/testing_guide/frontend_testing.html#snapshots",
            "toThrowErrorMatchingInlineSnapshot": "Use more targeted assertions instead of a snapshot. See https://docs.gitlab.com/ee/development/testing_guide/frontend_testing.html#snapshots",

            "toBeTruthy": "Use more explicit matchers like .toBe(true), .toBeGreaterThan(0), or .not.toBe(undefined). See https://docs.gitlab.com/ee/development/testing_guide/frontend_testing.html#avoid-using-tobetruthy-or-tobefalsy",
            "toBeFalsy": "Use more explicit matchers like .toBe(false), .toBe(0), or .toBe(undefined). See https://docs.gitlab.com/ee/development/testing_guide/frontend_testing.html#avoid-using-tobetruthy-or-tobefalsy",
            "toBeDefined": "Use a more explicit matchers. See https://docs.gitlab.com/ee/development/testing_guide/frontend_testing.html#tricky-tobedefined-matcher"
          }
        ]
      }
    },

    {
      "files": ["jest.config.js"],

      "parserOptions": {
        "sourceType": "script"
      },

      "rules": {
        "unicorn/prefer-module": "off",
        "import/no-commonjs": "off"
      },

      "env": {
        "browser": false,
        "node": true
      }
    }
  ],

  "settings": {
    "jest": {
      "version": 27
    }
  }
}
